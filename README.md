# Phone Book
Телефонный справочник, содержащий данные о сотрудниках организации.

## Запуск проекта
### Склонировать репозиторий, создать виртуальное окружение, установить необходимые пакеты, 
```
git clone https://github.com/LasBazza/phone_book.git
```
перейти в папку с проектом _/phone_book_
```
python -m venv venv
source venv/Scripts/activate (для Windows)| source venv/bin/activate (для Linux)
pip install -r requirements.txt
```
### Применить миграции и запустить проект
из папки _/phone_book/phone_book_
```
python manage.py migrate
python manage.py runserver
```

## Описание API
Корневой адрес API: http://127.0.0.1:8000/api/. Админка доступна на http://127.0.0.1:8000/admin/. Далее описаны эндпоинты относительно корневого адреса.
### Пользователи и аутентификация
```users/```
 - ```POST``` - зарегистрироваться по email и password, можно указать username
 - ```GET```- получить список пользователей или указанного по id пользователя (```users/{id}/```)
 
 ```users/editing_my_companies/```
 - ```GET``` - получить список пользователей, имеющих право редактирования организаций, создателем которых я являюсь
 
 ``` auth/token/login/```
 - ```POST``` - получить токен по email и password
 
  ``` auth/token/logout/```
 - ```POST``` - удалить токен
 
 ### Организации
 ```companies/```
 - ```POST``` - создать организацию
 - ```GET``` - получить список организаций или указанную по id организацию (```companies/{id}/```)
 - ```PUT``` и ```PATCH``` - изменить данные организации (```companies/{id}/```)
 - ```DELETE``` - удалить организацию (```companies/{id}/```)
 
 ```companies/{id}/grant_rigths_to_edit/```
 - ```POST``` - предоставить право указанному по email пользователю на редактированию информации о сотрудниках в организации, с указанным id
 - ```DELETE``` - отозвать право у указанного по email пользователя на редактированию информации о сотрудниках в организации, с указанным id
 
 ```companies/editable_by_me/```
 - ```GET``` - показать организации, в которых текущий пользователь имеет право редактировать данные сотрудников
 
 ### Сотрудники
 ```employees/```
 - ```POST``` - создать сотрудника
 - ```GET``` - получить список сотрудников или указанного по id сотрудника (```employees/{id}/```)
 - ```PUT``` и ```PATCH``` - изменить данные сотрудника (```employees/{id}/```)
 - ```DELETE``` - удалить сотрудника (```employees/{id}/```)
 
 Более подробное описание структуры запросов и ответов доступно по ссылке http://127.0.0.1:8000/redoc/
 
 Реализованы все основные требования, указанные в задании, включая пагинацию, систему предоставления прав доступа с необходимыми ограничениями, админ-панель django, требования по уникальности в моделях и наличию телефонных номеров.
 
 Реализована возможность осуществлять поиск по организациям и сотрудникам на эндпоинте ```companies/``` через параметр ```?search=```. Система поиска не полностью соответствует условиям задания, в частности - структура выдачи ответа.
  
